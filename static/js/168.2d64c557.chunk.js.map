{"version":3,"file":"static/js/168.2d64c557.chunk.js","mappings":"mRACA,EAA0B,yB,kBCKbA,EAAU,WACrB,OAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAoBR,OAnBAE,EAAAA,EAAAA,YAAU,WACP,GAAKF,EAAL,CACD,IAAMG,EAAS,mCAAG,oGAEdJ,GAAa,GAFC,UAGQK,EAAAA,EAAAA,IAAgBJ,GAHxB,OAGZK,EAHY,OAIlBV,EAAWU,GAJO,gDAOfR,EAAS,EAAD,IACRS,QAAQC,IAAR,MARe,yBAUdR,GAAa,GAVC,4EAAH,qDAcfI,GAfqB,CAgBtB,GAAE,CAACH,IAEAN,GAAWA,EAAQc,OAAS,GAE5B,2BACa,OAAVZ,IACD,eAAGa,UAAU,SAAb,UAAsB,6DACuCb,KAG3DE,IAAa,SAACY,EAAA,EAAD,KACf,eAAID,UAAWE,EAAf,SACCjB,EAAQkB,KAAI,SAAAC,GACX,IAAQC,EAAwBD,EAAxBC,OAAQC,EAAgBF,EAAhBE,QAASC,EAAOH,EAAPG,GACzB,OACE,2BACE,wBAAKF,KACL,uBAAIC,MAFGC,EAKZ,UAKO,2BAAK,6DAA2DpB,IAC/E,EAED,G","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"Reviews_reviews__n3fdK\",\"cerror\":\"Reviews_cerror__zpBXh\"};","import React, { useEffect, useState } from \"react\";\nimport { fetchFilmReview } from \"../api\";\nimport { Loader } from \"components/Loader/Loader\";\nimport css from \"../Reviews/Reviews.module.css\";\nimport { useParams } from 'react-router-dom';\n\nexport const Reviews = () => {\n  const [reviews, setReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { imageId } = useParams();\n  useEffect(() => {\n     if (!imageId) return;\n    const fetchData = async () => {\n     try {\n        setIsLoading(true);\n    const reviewsData = await fetchFilmReview(imageId);\n    setReviews(reviewsData);\n      }\n   catch (error) {\n       setError(error);\n       console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [imageId]);\n\n  if (reviews && reviews.length > 0) {\n    return (\n      <div>\n        {error !== null && (\n        <p className=\"cerror\">\n          Oops, some error occured. Please, try again later. Error: {error}\n        </p>\n      )}\n         {isLoading && <Loader />}\n        <ul className={css.reviews}>\n        {reviews.map(review => {\n          const { author, content, id } = review;\n          return (\n            <li key={id}>\n              <h3>{author}</h3>\n              <p>{content}</p>\n            </li>\n          );\n        })}\n        </ul>\n      </div>\n    );\n  }\n  else { return <div>Oops, some error occured. Please, try again later. Error: {error}</div>   }\n};\n\nexport default Reviews;"],"names":["Reviews","useState","reviews","setReviews","error","setError","isLoading","setIsLoading","imageId","useParams","useEffect","fetchData","fetchFilmReview","reviewsData","console","log","length","className","Loader","css","map","review","author","content","id"],"sourceRoot":""}